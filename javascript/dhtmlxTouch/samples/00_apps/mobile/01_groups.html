<!DOCTYPE html>
<html>
	<head>
        <title>Mobile demos: Grouplist</title>
		<meta  name = "viewport" content = "initial-scale = 1.0, maximum-scale = 1.0, user-scalable = no">
		<link rel="stylesheet" href="../../../codebase/touchui.css" type="text/css" media="screen" charset="utf-8">
		<script src="../../../codebase/touchui.js" type="text/javascript" charset="utf-8"></script>
		<script src="demo.js" type="text/javascript"></script>
		<link rel="STYLESHEET" type="text/css" href="demo.css">
		<style>
			.tb_sup{
				font-size:10px;
				text-shadow: none;
				font-style:italic;
			}
			.back{
				margin-right:16px;
			}
            html,body{
                background-color:#ffffff;
            }
		</style>
		<script type="text/javascript" charset="utf-8">
			
			dhx.ready(function(){ //exec code only after document loading
			
			var config = {
				container:"groupBox",
				rows:[
					{ 	
						view:"toolbar", 
						type:"MainBar", 
						elements:[
							{ view:"label", label: "Backpackr <sup class='tb_sup'>mobile</sup>", align:'left'}
						]
					},
					{ view:"grouplist", 
						scroll:true,
						url:"data/groups.xml", 
						datatype:"xml",
                        id:'friends_online',
						type:{
							templateItem:function(obj){
								if(obj.from)
									return obj.from +"&nbsp;<img src='images/plane.png' style='vertical-align:middle'></img>&nbsp;"+ obj.to;
								return obj.title;
							},
							templateGroup:function(obj){
								if(obj.level==1&&obj.item)
									return "<div class='dhx_list_count'>"+obj.item.length+"</div>"+obj.title;
								return obj.title;
							},
							templateBack:function(obj){
								var arrow = "<div class='dhx_arrow_icon'></div>";
								if(obj.level==1&&obj.item){
									var counter = "<div class='dhx_list_count back'>"+obj.item.length+"</div>";
									return arrow+counter+obj.title;
								}
								return arrow + obj.title;
							},
							width:"auto"
						},
						select:true
					},
					{ 	
						view:"toolbar", type:"SubBar", elements:[
							{ view:"label", label: "Grouplist", align:'right' },
						]
					},
				]
			};
		
			correctDemo(config);
		
			dhx.ui(config);
			
		});
		</script>
</head>
	<body>
		<div style="width:320px;height:500px;border:1px solid #969696; margin:50px;">
			<div id="groupBox" style='width:100%; height:100%;'>
			</div>
		</div>
	</body>
</html>